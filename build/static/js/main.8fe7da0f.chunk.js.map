{"version":3,"sources":["index.js","App.js"],"names":["rootElement","document","getElementById","ReactDOM","render","react_default","a","createElement","_useState","useState","_useState2","Object","slicedToArray","provinceArr","setProvinceArr","_useState3","_useState4","overviewData","setOverviewData","useEffect","jsonp","err","res","data","JSON","parse","provincesObj","map","item","area","confirm","arr","k","push","name","value","echartOptions","tooltip","show","triggerOn","alwaysShowContent","visualMap","type","left","bottom","align","itemWidth","itemHeight","textStyle","fontSize","pieces","min","label","color","max","series","mapType","showLegendSymbol","zoom","silent","position","lineHeight","selectedMode","className","confirmCount","suspectCount","cure","deadCount","lib_default","option"],"mappings":"iQAKA,IAAMA,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAOC,EAAAC,EAAAC,cCAD,WAAe,IAAAC,EACUC,mBAAS,IADnBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACrBK,EADqBH,EAAA,GACRI,EADQJ,EAAA,GAAAK,EAEYN,mBAAS,IAFrBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAErBE,EAFqBD,EAAA,GAEPE,EAFOF,EAAA,GAG5BG,oBAAU,WACRC,IACE,oEACA,GACA,SAACC,EAAKC,GACJ,IAAMC,EAAOC,KAAKC,MAAMH,EAAIC,MAC5BL,EAAgBK,EAAK,MAIzBH,IACE,oEACA,GACA,SAACC,EAAKE,GACJ,IAAMG,EAAe,GACCF,KAAKC,MAAMF,EAAKA,MACxBI,IAAI,SAAAC,GAMhB,OALKF,EAAaE,EAAKC,MAGrBH,EAAaE,EAAKC,MAAQH,EAAaE,EAAKC,MAAQD,EAAKE,QAFzDJ,EAAaE,EAAKC,MAAQD,EAAKE,QAI1B,OAGT,IAAMC,EAAM,GACZ,IAAK,IAAIC,KAAKN,EACZK,EAAIE,KAAK,CACPC,KAAMF,EACNG,MAAOT,EAAaM,KAGxBlB,EAAeiB,MAGlB,IACH,IAAMK,EAAgB,CACpBC,QAAS,CACPC,MAAM,EACNC,UAAW,QACXC,mBAAmB,GAErBC,UAAW,CACTH,MAAM,EACNI,KAAM,YACNC,KAAM,EACNC,OAAQ,IACRC,MAAO,OACPC,UAAW,GACXC,WAAY,GACZC,UAAW,CACTC,SAAU,IAEZC,OAAQ,CACN,CAAEC,IAAK,IAAMC,MAAO,yBAAWC,MAAO,WACtC,CAAEF,IAAK,IAAKG,IAAK,IAAKF,MAAO,gBAAYC,MAAO,WAChD,CAAEF,IAAK,GAAIG,IAAK,GAAIF,MAAO,cAAUC,MAAO,WAC5C,CAAEF,IAAK,EAAGG,IAAK,EAAGF,MAAO,YAAQC,MAAO,aAG5CE,OAAQ,CACN,CACEb,KAAM,MACNR,KAAM,2BACNsB,QAAS,QACTJ,MAAO,CACLd,MAAM,EACNW,SAAU,GAEZQ,kBAAkB,EAClBC,KAAM,IACNC,QAAQ,EACRpC,KAAMV,EACNwB,QAAS,CACPC,MAAM,EACNsB,SAAU,SACVZ,UAAW,CACTC,SAAU,EACVY,WAAY,MAGhBC,aAAc,YAIpB,OACEzD,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,qBACb1D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,kBAAkB9C,EAAa+C,cAC5C3D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,QAAb,6BAEF1D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,kBAAkB9C,EAAagD,cAC5C5D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,QAAb,6BAEF1D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,eAAe9C,EAAaiD,MACzC7D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,QAAb,6BAEF1D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,eAAe9C,EAAakD,WACzC9D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,QAAb,8BAGJ1D,EAAAC,EAAAC,cAAC6D,EAAA9D,EAAD,CAAc+D,OAAQjC,MD5GZ,MAASpC","file":"static/js/main.8fe7da0f.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n","import React, { useState, useEffect } from \"react\";\nimport \"./styles.scss\";\nimport ReactEcharts from \"echarts-for-react\";\nimport jsonp from \"jsonp\";\nimport \"echarts/map/js/china.js\";\n\nexport default function App() {\n  const [provinceArr, setProvinceArr] = useState([]);\n  const [overviewData, setOverviewData] = useState({});\n  useEffect(() => {\n    jsonp(\n      \"https://view.inews.qq.com/g2/getOnsInfo?name=wuwei_ww_global_vars\",\n      {},\n      (err, res) => {\n        const data = JSON.parse(res.data);\n        setOverviewData(data[0]);\n      }\n    );\n\n    jsonp(\n      \"https://view.inews.qq.com/g2/getOnsInfo?name=wuwei_ww_area_counts\",\n      {},\n      (err, data) => {\n        const provincesObj = {};\n        const interfaceData = JSON.parse(data.data);\n        interfaceData.map(item => {\n          if (!provincesObj[item.area]) {\n            provincesObj[item.area] = item.confirm;\n          } else {\n            provincesObj[item.area] = provincesObj[item.area] + item.confirm;\n          }\n          return null;\n        });\n\n        const arr = [];\n        for (let k in provincesObj) {\n          arr.push({\n            name: k,\n            value: provincesObj[k]\n          });\n        }\n        setProvinceArr(arr);\n      }\n    );\n  }, []);\n  const echartOptions = {\n    tooltip: {\n      show: true,\n      triggerOn: \"click\",\n      alwaysShowContent: true\n    },\n    visualMap: {\n      show: true,\n      type: \"piecewise\",\n      left: 0,\n      bottom: \"0\",\n      align: \"left\",\n      itemWidth: 10,\n      itemHeight: 10,\n      textStyle: {\n        fontSize: 10\n      },\n      pieces: [\n        { min: 1000, label: '1000人以上', color: '#ED514E' },\n        { min: 100, max: 999, label: '100-999人', color: '#FF8F66' },\n        { min: 10, max: 99, label: '10-99人', color: '#FFB769' },\n        { min: 1, max: 9, label: '1-9人', color: '#FFE6BD' }\n      ]\n    },\n    series: [\n      {\n        type: \"map\",\n        name: \"确诊人数\",\n        mapType: \"china\",\n        label: {\n          show: true,\n          fontSize: 8\n        },\n        showLegendSymbol: false,\n        zoom: 1.2,\n        silent: false,\n        data: provinceArr,\n        tooltip: {\n          show: true,\n          position: \"inside\",\n          textStyle: {\n            fontSize: 8,\n            lineHeight: 100\n          }\n        },\n        selectedMode: \"single\"\n      }\n    ]\n  };\n  return (\n    <div className=\"App\">\n      <div className=\"overview-cotainer\">\n        <div>\n          <p className=\"number confirm\">{overviewData.confirmCount}</p>\n          <p className=\"text\">全国确诊</p>\n        </div>\n        <div>\n          <p className=\"number suspect\">{overviewData.suspectCount}</p>\n          <p className=\"text\">疑似病例</p>\n        </div>\n        <div>\n          <p className=\"number cure\">{overviewData.cure}</p>\n          <p className=\"text\">治愈人数</p>\n        </div>\n        <div>\n          <p className=\"number dead\">{overviewData.deadCount}</p>\n          <p className=\"text\">死亡人数</p>\n        </div>\n      </div>\n      <ReactEcharts option={echartOptions} />\n    </div>\n  );\n}\n"],"sourceRoot":""}